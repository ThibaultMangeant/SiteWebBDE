{% extends '_template/base.html.twig' %}

{% block css %}
<link rel="stylesheet" href="assets/css/evenement.css">
{% endblock %}

{% block body %}
	<div class="d-flex justify-content-start" id="gestionEvenement">
		
	</div>
	<div class="container mt-5">
		<div class="row">
			<!-- Section de l'événement le plus récent -->
			<div class="col-md-8">
				<h2>Événement le plus récent :</h2>
				{% if evenements|length > 0 %}
					{% set evenement_recent = evenements|sort((a, b) => b.dateEvent <=> a.dateEvent)|first %}
					<a href="evenement_detail.php?id={{ evenement_recent.idEvent }}" class="text-decoration-none">
						<div class="card mb-4 shadow-sm">
							<img src="assets/images/evenements/{{ evenement_recent.imgEvent }}" class="card-img-top" alt="{{ evenement_recent.nomEvent }}">
							<div class="card-body">
								<h5 class="card-title">{{ evenement_recent.nomEvent }} : {{ evenement_recent.dateEvent|date('d/m/Y') }}</h5>
							</div>
						</div>
					</a>
				{% else %}
					<p>Aucun événement disponible.</p>
				{% endif %}
			</div>

			<!-- Section des autres événements -->
			<div class="event-container-right">
				<h2 class="section-title">Évènements à venir</h2>
				{% set trie_evenements = evenements|sort((a, b) => b.dateEvent <=> a.dateEvent) | slice(1) %}
				{% for evenement in trie_evenements %}
					<div class="event-card">
						<!-- Image de l'événement -->
						<img src="assets/images/evenements/{{ evenement.imgevent }}"
							alt="{{ evenement.nomEvent }}"
							class="event-image">
						<a href="evenement_detail.php?id={{ evenement.idEvent }}" class="event-link">
							<div class="event-content">
								<h5 class="event-title">{{ evenement.nomEvent }}</h5>
							</div>
						</a>
					</div>
				{% endfor %}
			</div>
		</div>
	</div>
{% endblock %}

{% block javascript %}
	<script src="assets/js/evenement.js"></script>
{% endblock %}
